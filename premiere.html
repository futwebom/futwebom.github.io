<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extract JS Paths</title>
    <body>
    <div id="output"></div>

    <script>
        function extractElementByXPath(xpath) {
            const result = document.evaluate(xpath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null);
            const element = result.singleNodeValue;
            return element ? element.outerHTML : 'Elemento não encontrado';
        }

        const xpath = '/html/body/iframe[1]';
        const elementHTML = extractElementByXPath(xpath);
        const outputDiv = document.getElementById('output');
        outputDiv.innerHTML = '<h2>Elemento Selecionado por XPath:</h2>';
        outputDiv.innerHTML += `<pre>${elementHTML}</pre>`;
    </script>
</head>
<body>
    <iframe id="siteFrame" src="https://reidoscanais.app/embed/player.php?l=aHR0cHM6Ly94bi0tLS1pdGJhdmJ2YWNlaXoueG4tLS0tLS0tNDNkYmFiYmNxdnNhYzhhZmJmZHdjb2Vja3ZrbmdkMWZybGd1aGFqOWIubmV0L3d0Yy5waHA/aWQ9MTU3Nw==" style="width: 100%; height: 400px;"></iframe>
    <pre id="output"></pre>

    <script>
        function extractJSPaths() {
            const frameDocument = document.getElementById('siteFrame').contentDocument;
            const scriptTags = frameDocument.querySelectorAll('script[src]');
            const jsPaths = [];
            
            scriptTags.forEach(tag => {
                const src = tag.getAttribute('src');
                jsPaths.push(src);
            });

            return jsPaths;
        }

        function displayJSPaths() {
            const jsPaths = extractJSPaths();
            const outputPre = document.getElementById('output');
            let pathsText = 'JavaScript Paths:\n\n';

            jsPaths.forEach(path => {
                pathsText += `${path}\n`;
            });

            outputPre.textContent = pathsText;
        }

        // Espera até que o iframe tenha carregado para extrair os caminhos dos arquivos JavaScript.
        document.getElementById('siteFrame').onload = function() {
            displayJSPaths();
        };
    </script>
</body>
</html>
