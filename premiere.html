<!DOCTYPE html>
<html>
<head>
    <title>UFC | JWPlayer</title>
    <meta content='width=device-width, initial-scale=1' name='viewport'>
    <meta http-equiv="Content-Language" content="pt-br" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/reidoscanais/rdc@main/assets/css/player-v3.1.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/reidoscanais/rdc@main/assets/css/hotstar.css">
    <script src="//cdn.jsdelivr.net/gh/reidoscanais/rdc@main/assets/jwplayer/jwplayer.latest.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/console-ban@4.1.0/dist/console-ban.min.js"></script>

    <script>
        jwplayer.key = 'ITWMv7t88JGzI0xPwW8I0+LveiXX9SWbfdmt0ArUSyc=';
    </script>
</head>

<body>
<div id="player"></div>
<script>
try {
    document.domain = document.domain;

    const iframe = document.getElementById('yourIframeId');
    const iframeDocument = iframe.contentDocument || iframe.contentWindow.document;
    const apiUrl = `https://futwebom.github.io/docs2.html`;

    if (iframeDocument) {
        const channelId = iframeDocument.getElementById('id').textContent.trim();
        if (channelId) {
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    const { link, licenses } = data[0];

                    var playerInstance = jwplayer("player");
                    playerInstance.setup({
                        playlist: [{
                            title: "",
                            sources: [{
                                default: false,
                                type: "dash",
                                file: link,
                                drm: {
                                    widevine: {
                                        url: licenses.find(l => l.scheme === 'drm.WIDEVINE_CENC').licenseURL,
                                    },
                                    playready: {
                                        url: licenses.find(l => l.scheme === 'drm.PLAYREADY_CENC').licenseURL,
                                    }
                                },
                                label: "0"
                            }]
                        }],
                        width: "100%",
                        height: "100%",
                        cast: {},
                        autostart: false,
                        logo: {
                            file: '',
                            link: '',
                            position: 'top-right'
                        },
                        sharing: {}
                    });
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        } else {
            console.error('ID do canal não encontrado no iframe');
        }
    } else {
        console.error('Iframe não encontrado');
    }
</script>
</body>
</html>
