<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
    <meta content='width=device-width, initial-scale=1' name='viewport'>
    <meta http-equiv="Content-Language" content="pt-br" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/reidoscanais/rdc@main/assets/css/player-v3.1.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/reidoscanais/rdc@main/assets/css/hotstar.css">
    <script src="//cdn.jsdelivr.net/gh/reidoscanais/rdc@main/assets/jwplayer/jwplayer.latest.js"></script>
    <script>
<style>
  #iframe-container {
    width: 1px;
    height: 1px;
    overflow: auto; /* Adicionado para rolagem caso o conteúdo do iframe seja maior que o contêiner */
  }
</style>
</script>    
    <script src="https://cdn.jsdelivr.net/npm/console-ban@4.1.0/dist/console-ban.min.js"></script>
    <script>
        // default options
        ConsoleBan.init()
        // custom options
        ConsoleBan.init({
          redirect: 'https://www.google.com'
        })
      </script>  
    <script>
        jwplayer.key = 'ITWMv7t88JGzI0xPwW8I0+LveiXX9SWbfdmt0ArUSyc=';
    </script>
</head>

<body>
<div id="player"></div>
<script>
try {
    document.domain = document.domain;

    const urlParams = new URLSearchParams(window.location.search);
    const channelId = urlParams.get('id');
    const apiUrl = `https://xn----itbavbvaceiz.xn-------43dbabbcqvsac8afbfdwcoeckvkngd1frlguhaj9b.net/wtc.php?id=${channelId}`;

    if (channelId) {
        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                const { link, licenses } = data[0];

                var playerInstance = jwplayer("player");
                playerInstance.setup({
                    playlist: [{
                        title: "",
                        sources: [{
                            default: false,
                            type: "dash",
                            file: link,
                            drm: {
                                widevine: {
                                    url: licenses.find(l => l.scheme === 'drm.WIDEVINE_CENC').licenseURL,
                                },
                                playready: {
                                    url: licenses.find(l => l.scheme === 'drm.PLAYREADY_CENC').licenseURL,
                                }
                            },
                            label: "0"
                        }]
                    }],
                    width: "100%",
                    height: "100%",
                    cast: {},
                    autostart: false,
                    logo: {
                        file: '',
                        link: '',
                        position: 'top-right'
                    },
                    sharing: {}
                });
            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });
    } else {
        console.error('ID do canal não fornecido na URL');
    }
} catch (e) {
    window.location.href = "https://reidoscanais.org/sandbox.html";
}
</script>
<div id="iframe-container">
  <iframe id="myIframe" src="https://futwebom.github.io/docs2.html"></iframe>
</div>

<script>
  window.onload = function() {
    var iframe = document.getElementById('myIframe');
    var iframeDocument = iframe.contentDocument || iframe.contentWindow.document;
    var iframeContent = iframeDocument.documentElement.innerHTML;

    document.getElementById('iframe-container').innerHTML = iframeContent;
  };
</script>
</body>
</html>
